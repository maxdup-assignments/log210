<div>
  <table class="table">
    <tr>
      <th>Name</th>
      <th>restaurateur</th>
      <th>Menu</th>
    </tr>
    <tr ng-repeat="resto in restos">
      <!-- restaurant display -->
      <td>
        <span ng-hide="resto.backup">{{ resto.name }}</span>
        <input ng-show="resto.backup" ng-model="resto.name"/>
      </td>

      <td>
        <span ng-hide="resto.backup">{{ resto.user.username || 'None'}}</span>
        <select ng-show="resto.backup" ng-model="resto.new_user"
                ng-options="staff as staff.label for staff in options"/>
      </td>

      <td>
        {{ resto.menu.sous_menus.length || 0 }} menus
        <a ng-show="resto.backup" class="btn btn-xs btn-success" ng-href="#/manage_menu/{{resto.pk}}">change menu</a>
      </td>

      <td>
        <span ng-hide="resto.backup">
          <button class="btn btn-success btn-xs" ng-click="edit_resto(resto)">
            Edit</button>
          <button class="btn btn-danger btn-xs" ng-click="delete_resto(resto)">
            Remove</button>
        </span ng-show="resto.backup">

        <span ng-show="resto.backup">
          <button class="btn btn-success btn-xs" ng-click="save_resto(resto)">
            Save</button>
          <button class="btn btn-danger btn-xs" ng-click="cancel_resto(resto)">
            Cancel</button>
        </span>
      </td>
    </tr>

    <!--restaurant addition-->
    <tr>
      <td><input type="text" ng-model="new_resto.name"></td>
      <td><select ng-model="selected_staff"
                  ng-change="new_resto.user = selected_staff.value"
                  ng-options="staff as staff.label for staff in options"/></td>
      <td>menu...</td>
      <td>
        <button class="btn btn-success btn-xs" ng-click="create_resto()">add</buton>
      </td>
    </tr>
  </table>
</div>
