
<div ng-hide="profiles" translate>Loading...</div>
<table ng-show="profiles" class="table table-responsive profiles">
  <tr>
    <th translate>email</th>
    <th translate>first name</th>
    <th translate>last name</th>
    <th translate>adresse</th>
    <th translate>telephone</th>
    <th translate>date de naissance</th>
    <th translate>permissions</th>
  </tr>

  <tr ng-repeat="profile in profiles">
    <td ng-hide="profile.backup">{{ profile.user.username }}</td>
    <td ng-hide="profile.backup">{{ profile.user.first_name }}</td>
    <td ng-hide="profile.backup">{{ profile.user.last_name }}</td>
    <td ng-hide="profile.backup">{{ profile.adresse }}</td>
    <td ng-hide="profile.backup">{{ profile.telephone }}</td>
    <td ng-hide="profile.backup">{{ profile.date_naissance }}</td>
    <td ng-hide="profile.backup">
      <span ng-if="profile.is_admin" translate>admin</span>
      <span ng-if="profile.is_entrepreneur" translate>entrepreneur</span>
      <span ng-if="profile.is_restaurateur" translate>restaurateur</span>
      <span ng-if="profile.is_livreur" translate>delivery man</span>
    </td>
    <td ng-hide="profile.backup">
      <button class="btn btn-xs" ng-click="edit(profile)" translate>Edit</button>
      <button disabled="profile.is_admin || profile.is_entrepreneur" class="btn btn-xs btn-danger" ng-click="delete(profile)"translate>Remove</button>
    </td>

    <td ng-show="profile.backup">
      <input style="width=20px;" ng-model="profile.user.username"/></td>
    <td ng-show="profile.backup"><input ng-model="profile.user.first_name"/></td>
    <td ng-show="profile.backup"><input ng-model="profile.user.last_name"/></td>
    <td ng-show="profile.backup">{{profile.adresse}}</td>
    <td ng-show="profile.backup"><input ng-model="profile.telephone"/></td>
    <td ng-show="profile.backup"><input ng-model="profile.date_naissance"/></td>
    <td ng-show="profile.backup">
      <label><input type="checkbox" disabled="parent.profile.is_admin" ng-model="profile.is_entrepreneur"/>entrepreneur</label><br/>
      <label><input type="checkbox" ng-model="profile.is_restaurateur"/><translate>restaurateur</translate></label><br/>
      <label><input type="checkbox" ng-model="profile.is_livreur"/><translate>delivery man</translate></label><br/>
    </td>

    <td ng-show="profile.backup">
      <button class="btn btn-xs btn-success"
              ng-click="save(profile)" translate>Save</button>
      <button class="btn btn-xs btn-danger"
              ng-click="cancel(profile)" translate>Cancel</button>
    </td>
  </tr>
</table>

<div>
<h3>Ajouter Restaurateur</h3>
<form class="form-horizontal">
  <div class="form-group">
    <label class="col-sm-2 control-label" translate>Email:</label>
    <div class="col-sm-10">
      <input class="form-control" type="text" ng-model="userform.email">
    </div>
  </div>
  <div class="form-group">
    <label class="col-sm-2 control-label" translate>First name:</label>
    <div class="col-sm-10">
      <input class="form-control" type="text" ng-model="userform.first_name">
    </div>
  </div>
  <div class="form-group">
    <label class="col-sm-2 control-label" translate>Last name:</label>
    <div class="col-sm-10">
      <input class="form-control" type="text" ng-model="userform.last_name">
    </div>
  </div>
  <div class="form-group">
    <label class="col-sm-2 control-label" translate>Address:</label>
    <div class="col-sm-10">
      <input class="form-control" type="text" ng-model="userform.adresse">
    </div>
  </div>
  <div class="form-group">
    <label class="col-sm-2 control-label" translate>Birthday:</label>
    <div class="col-sm-10">
      <input class="form-control" type="text" ng-model="userform.date_naissance">
    </div>
  </div>
  <div class="form-group">
    <label class="col-sm-2 control-label"translate>Telephone Number:</label>
    <div class="col-sm-10">
      <input class="form-control" type="text" ng-model="userform.telephone">
    </div>
  </div>
  <div class="form-group">
    <label class="col-sm-2 control-label"translate>Password:</label>
    <div class="col-sm-10">
      <input class="form-control" type="password" ng-model="userform.password">
    </div>
  </div>

  <div class="form-group">
    <label class="col-sm-2 control-label" translate>Restaurant:</label>
    <div class="col-sm-2">
      <select class="form-control"
              ng-model="selected_resto"
              ng-change="userform.resto = selected_resto.value"
              ng-options="resto as resto.label for resto in options"/>
    </div>
  </div>
</form>
<button class="btn btn-success" ng-click="submit(true)" style="float:right" translate>Submit</button>
</div>
